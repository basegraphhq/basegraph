# Relay Worker

RELAY_ENV=development

# Database
DATABASE_URL=postgres://postgres:postgres@localhost:5432/relay?sslmode=disable
DB_MAX_CONNS=10
DB_MIN_CONNS=2

# Redis (worker must target the per-workspace stream)
REDIS_URL=redis://localhost:6379/0
# Format: agent-stream:org-{org_id}:workspace-{workspace_id}
REDIS_STREAM=agent-stream:org-123:workspace-456
REDIS_CONSUMER_GROUP=agent-group
REDIS_CONSUMER_NAME=relay-worker-1
REDIS_DLQ_STREAM=relay-events-dlq
TRACE_HEADER_NAME=X-Trace-Id

# ArangoDB (optional - codegraph disabled if unset)
ARANGO_URL=http://localhost:8529
ARANGO_USERNAME=root
ARANGO_PASSWORD=
ARANGO_DATABASE=codegraph

# Workspace (required)
WORKSPACE_ID=
DATA_DIR=/data

# Repo (Optional - Only to be specified if codegraph is enabled)
MODULE_PATH=

# Planner LLM (also used for spec generation)
PLANNER_LLM_PROVIDER=openai
PLANNER_LLM_API_KEY=
PLANNER_LLM_BASE_URL=
PLANNER_LLM_MODEL=gpt-5.2
PLANNER_LLM_MAX_TOKENS=16384
PLANNER_LLM_REASONING_EFFORT=medium

# Explore LLM
EXPLORE_LLM_PROVIDER=openai
EXPLORE_LLM_API_KEY=
EXPLORE_BASE_URL=
EXPLORE_LLM_MODEL=grok-4-1-fast-reasoning
EXPLORE_LLM_MAX_TOKENS=16384

# OpenTelemetry (optional)
# OTEL_EXPORTER_OTLP_ENDPOINT=
# OTEL_EXPORTER_OTLP_HEADERS=
OTEL_SERVICE_NAME=relay-worker
OTEL_SERVICE_VERSION=dev

# Debug (optional)
# BRAIN_DEBUG_DIR=./debug_logs
